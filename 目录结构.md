# 项目目录结构

```
add-failban/
├── install.sh          # 主安装脚本（普通用户版本）
├── install_root.sh     # 安装脚本（root用户版本）
├── test_config.sh      # 配置测试脚本
├── jails/
│   └── sshd.local     # SSH防护配置文件
├── README.md          # 项目说明文档
├── LICENSE            # MIT许可证
├── .gitignore         # Git忽略文件
└── 目录结构.md        # 本文件
```

## 文件说明

### install.sh
- **功能**: 一键安装和配置fail2ban的主脚本（普通用户版本）
- **特性**: 
  - 支持多种Linux发行版 (Ubuntu/Debian/CentOS/RHEL)
  - 自动检测系统类型和日志路径
  - 完整的错误处理和状态验证
  - 彩色输出和详细日志
  - 需要sudo权限运行

### install_root.sh
- **功能**: 一键安装和配置fail2ban的脚本（root用户版本）
- **特性**: 
  - 支持root用户直接运行
  - 自动检测用户权限并调整命令
  - 其他功能与install.sh相同

### jails/sshd.local
- **功能**: SSH防护配置文件
- **配置项**:
  - `enabled = true`: 启用SSH防护
  - `maxretry = 5`: 5次失败后封禁
  - `bantime = 3600`: 封禁1小时 (3600秒)
  - `findtime = 600`: 10分钟内检测 (600秒)
  - `ignoreip`: 忽略本地IP地址
  - `banaction`: 使用iptables进行封禁

### test_config.sh
- **功能**: 配置验证和测试脚本
- **用途**: 检查fail2ban安装状态和配置是否正确

### README.md
- **功能**: 项目说明和使用指南
- **内容**: 安装方法、配置说明、常用命令等

### LICENSE
- **功能**: MIT开源许可证
- **用途**: 明确项目的开源许可条款

### .gitignore
- **功能**: Git版本控制忽略文件
- **用途**: 排除不需要版本控制的文件

## 安装流程

1. 下载项目文件
2. 运行 `sudo bash install.sh`
3. 脚本自动完成安装和配置
4. 验证安装结果

## 安全特性

- 防止SSH暴力破解
- 自动封禁恶意IP
- 支持本地IP白名单
- 可配置的封禁时间和重试次数
